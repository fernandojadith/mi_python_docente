{% extends "adminproyecto1/base.html" %}
{% block content %}

<h2 class="mt-4 fw-bold">
    <i class="fas fa-book me-2 text-primary"></i>Historial del Docente
</h2>

<div class="card mt-4 border-primary">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover align-middle">
                <thead class="table-primary">
                    <tr>
                         <th>ID</th>
                        <th>Formación</th>
                        <th>Estado</th>
                        <th>Observación</th>
                        <th>Aprobado</th>
                        <th>Fecha Aprobación</th>
                       <th>periodo</th>
                        <th>Certificado</th>
                    </tr>
                </thead>
                <tbody>
                   {% for f in formaciones %}
    {% if f.estado == "finalizado" %}
        <tr>
            <td data-label="ID" class="fw-bold">{{ f.id_formaciondocente }}</td>
            <td data-label="Formación">{{ f.id_formacion }}</td>
            <td data-label="Estado">
                <span class="badge bg-success">Finalizado</span>
            </td>
            <td data-label="Observación">{{ f.observacion }}</td>
            <td data-label="Aprobado">
                {% if f.aprobado %}
                    <span class="text-success fw-bold">Sí</span>
                {% else %}
                    <span class="text-danger fw-bold">No</span>
                {% endif %}
            </td>
            <td data-label="Fecha Aprobación">{{ f.fecha_aprobacion }}</td>
            <td data-label="Periodo">{{ f.periodo }}</td>
            <td data-label="Certificado">
                {% if f.pdf_certificado %}
                    <a href="{{ f.pdf_certificado.url }}" download class="text-danger" title="Descargar certificado">
                        <i class="fas fa-file-pdf fa-2x"></i>
                    </a>
                {% else %}
                    <span class="text-muted">No disponible</span>
                {% endif %}
            </td>
        </tr>
    {% endif %}
{% empty %}
    <tr>
        <td colspan="8" class="text-center text-muted">No hay formaciones registradas</td>
    </tr>
{% endfor %}

                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .card {
        border-radius: 15px;
        box-shadow: none !important;
    }
    .table thead th {
        text-align: center;
        
    }
    .table td, .table th {
        vertical-align: middle;
        text-align: center; /* ✅ Asegura que todo se centre */
    }
    .fa-file-pdf {
        transition: transform 0.2s ease-in-out;
    }
    .fa-file-pdf:hover {
        transform: scale(1.2);
    }

    /* ==== MODO MÓVIL ==== */
    @media (max-width: 768px) {
        .table thead {
            display: none;
        }
        .table, .table tbody, .table tr, .table td {
            display: block;
            width: 100%;
        }
        .table tr {
            margin-bottom: 1rem;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 10px;
            background: #fff;
        }
        .table td {
            text-align: left !important;
            padding: 8px 10px;
            border: none !important;
            position: relative;
        }
        .table td::before {
            content: attr(data-label);
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            color: #194485;
        }
    }
</style>

{% endblock %}
